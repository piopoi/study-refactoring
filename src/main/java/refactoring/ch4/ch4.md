# Chapter 04 - 테스트 구축하기

## 4.1 자가 테스트 코드의 가치

- 프로그래머는 디버깅에 대부분의 업무 시간을 쓴다.
- 디버깅 시간을 줄이기 위해서 테스트 코드를 작성하자.
- 최초의 테스트 자동화를 위한 프레임워크: JUnit
- 테스트 주도 개발(TDD, Test-Driven Development)
    1. 통과하지 못할 테스트 작성
    2. 테스트가 통과하게끔 코드 작성
    3. 깔끔하게 리팩토링

## 4.2 테스트할 샘플 코드

## 4.3 첫 번째 테스트

- 테스트를 실패해야 할 상황에서는 반드시 실패하게 만들자.
- 테스트가 실패하지 않아 불안하면, 테스트 코드에 일시적으로 오류를 주입하여 확인해보자.
- 자주 테스트하라. 작성 중인 코드는 최소한 몇 분 간격으로 테스트하고, 적어도 하루에 한 번은 전 체 테스트를 돌려보자

## 4.4 테스트 추가하기

- 테스트는 위험요인을 중심으로 작성해라.
- 테스트의 목적은 버그를 찾는데 있다.
- 완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는 게 낫다.

## 4.5 픽스처 수정하기

- given-when-then(조건-발생-결과)

## 4.6 경계 조건 검사하기

- 문제가 생길 가능성이 있는 경계 조건을 생각해보고, 그 부분을 집중적으로 테스트하자.
- 수확 체감 법칙 (Law of Diminishing Returns)
    - 다른 생산 요소는 고정된 상태에서 하나의 생산 요소만 계속 증가시킬 때,
    - 처음에는 생산량이 증가하지만 어느 시점부터는 추가되는 생산량이 점점 감소하는 현상
- 테스트는 처음에는 적은 노력으로 더 많은 문제를 찾아낼 수 있지만, 점차 같은 노력으로 발견되는 문제가 줄어드는 경향이 있다.
- 테스트를 너무 많이 작성하려고 하지 말고, 위험도가 높은 부분에 집중하자.

## 4.7 끝나지 않은 여정

- 버그 리포트를 받으면 가장 먼저 그 버그를 드러내는 단위 테스트부터 작성하자.
- 자가 테스트 코드의 목적은 코드에 믿음을 갖게 해주는 것이다.
- 테스트 때문에 개발 속도가 느려진다고 생각되면 테스트를 과하게 작성한 것은 아닌지 의심해보자.
- 하지만, 테스트가 많은 경우보다 적은 경우가 훨씬 많다.
